<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
  <title>Overview of ES6 | OwenYang&#39;S IDEAS</title>
  <meta name="description" content="" />
  <meta name="keywords" content="blog, tech blog, code, personal opinion, OwenYang ideas" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="MobileOptimized" content="320" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/x-icon" href="/img/favicon.ico" />
  <link rel="stylesheet" type="text/css" href="/css/screen.css" />
  <link rel="stylesheet" href="/css/moody.css" type="text/css">
  <meta name="generator" content="OwenYang'S IDEAS">

  
  
  <link rel="alternate" type="application/atom+xml" title="Atom 0.3" href="atom.xml">
  
  

  
  <script>
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "//hm.baidu.com/hm.js?9f2d590e5f527b46e8628bd4322bd108";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
  </script>
  
</head>

<!--
<body class="post-template">
-->
<body class="home-template">
<div id="perspective" class="perspective effect-movedown">
  <div class="container">
    <!-- wrapper -->
    <div class="wrapper">
      <header class="header">
    <div class="header__container">
        <a href="/" class="logo">OwenYang'S IDEAS</a>
        <nav class="header__nav">
            <ul class="header__nav-list">
                
                    <li class="nav-item">
                        <a class="icon-home"  href="/">Home</a>
                        </li>
                
                    <li class="nav-item">
                        <a class="icon-mail"  href="/about/">Contact</a>
                        </li>
                

            </ul>
        </nav>
    </div>
</header>

      

<main class="content" role="main">
  <article class="post">
    <h1 class="post-title">Overview of ES6</h1>
    <span class="post-meta">
      <time datetime="2015-05-31T09:03:25.000Z" itemprop="datePublished">
          May 31 2015
      </time>
    
</span>
    <section class="post-content">
      <p>Slides in ES6 overview workshop</p>
<h2 id="Intro">Intro</h2><h3 id="What">What</h3><p>ECMAScript 6（以下简称ES6）是JavaScript语言的下一代标准</p>
<h3 id="Goal">Goal</h3><p>ES6的目标，是使得JavaScript语言可以用来编写大型的复杂的应用程序，成为企业级开发语言。<br>新的语言特性，代码更优雅，程序更健壮，减少不必要的重复，减少不必要的第三方依赖。</p>
<h2 id="Agenda">Agenda</h2><ul>
<li>template strings</li>
<li>const</li>
<li>let</li>
<li>block-level declaration</li>
<li>Destructuring Assignment</li>
<li>arrow functions</li>
<li>default function params</li>
<li>class</li>
<li>module</li>
</ul>
<h2 id="Requirements">Requirements</h2><p>Babel <a href="https://babeljs.io/docs/usage/cli/" target="_blank" rel="external">https://babeljs.io/docs/usage/cli/</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npm install --global babel</span><br></pre></td></tr></table></figure>
<h2 id="Talk_is_cheap,_show_me_the_code-">Talk is cheap, show me the code.</h2><h2 id="template_strings">template strings</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> first = <span class="string">"Song"</span></span><br><span class="line"><span class="keyword">var</span> last = <span class="string">"Yang"</span>;</span><br><span class="line"><span class="keyword">var</span> name = `I<span class="string">'m $&#123;first&#125; $&#123;last&#125;!`;</span></span><br></pre></td></tr></table></figure>
<p><strong>性能对比</strong><br><a href="http://heeroluo.net/article/detail/54" target="_blank" rel="external">http://heeroluo.net/article/detail/54</a></p>
<p>它可以当作普通字符串使用，也可以用来定义多行字符串，或者在字符串中嵌入变量。</p>
<h2 id="const">const</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> PI = <span class="number">3.14</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.defineProperty(<span class="keyword">typeof</span> global === <span class="string">"object"</span> ? global : <span class="built_in">window</span>, <span class="string">"PI"</span>, &#123;</span><br><span class="line">    value:        <span class="number">3.14</span>,</span><br><span class="line">    enumerable:   <span class="literal">true</span>,</span><br><span class="line">    writable:     <span class="literal">false</span>,</span><br><span class="line">    configurable: <span class="literal">false</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="let">let</h2><p>声明变量，变量只在let命令所在代码块内有效。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> b = <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a <span class="comment">//1</span></span><br><span class="line">b <span class="comment">// ReferenceError: b is not defined.</span></span><br></pre></td></tr></table></figure>
<p>let不允许在相同作用域内，重复声明同一个变量。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// error</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">let</span> a = <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="block-level_declaration">block-level declaration</h2><ul>
<li>let, const 块级作用域</li>
<li>var 函数作用域</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>,len=<span class="number">5</span>;i&lt;len;i++) &#123;</span><br><span class="line">        <span class="comment">//body</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">console</span>.log(i,len);=&gt; <span class="number">5</span>,<span class="number">5</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ES5的JavaScript的不支持块级作用域，变量仅仅被限制到函数作用域内。</p>
<h3 id="Pros">Pros</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// IIFE写法</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> tmp = ...;</span><br><span class="line">    ...</span><br><span class="line">&#125;());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 块级作用域写法</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> tmp = ...;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="function_scope">function scope</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span><span class="params">()</span> </span>&#123; <span class="built_in">console</span>.log(<span class="string">'I am outside!'</span>); &#125;</span><br><span class="line">(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="literal">false</span>) &#123;</span><br><span class="line">    <span class="comment">// What should happen with this redeclaration?</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span><span class="params">()</span> </span>&#123; <span class="built_in">console</span>.log(<span class="string">'I am inside!'</span>); &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  f();</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>
<h2 id="Destructuring_Assignment">Destructuring Assignment</h2><p>ES6允许按照一定模式，从数组和对象中提取值，对变量进行赋值，这被称为解构（Destructuring）。</p>
<h3 id="Array_destructuring">Array destructuring</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> [a, b, c] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">[a, b] = [b, a];</span><br></pre></td></tr></table></figure>
<h3 id="模式匹配（嵌套数组）">模式匹配（嵌套数组）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> [foo, [[bar], baz]] = [<span class="number">1</span>, [[<span class="number">2</span>], <span class="number">3</span>]];</span><br><span class="line">foo <span class="comment">// 1</span></span><br><span class="line">bar <span class="comment">// 2</span></span><br><span class="line">baz <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> [,,third] = [<span class="string">"foo"</span>, <span class="string">"bar"</span>, <span class="string">"baz"</span>];</span><br><span class="line">third <span class="comment">// "baz"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> [head, ...tail] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">head <span class="comment">// 1</span></span><br><span class="line">tail <span class="comment">// [2, 3, 4]</span></span><br></pre></td></tr></table></figure>
<h3 id="解构失败">解构失败</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> [foo] = [];</span><br><span class="line"><span class="keyword">var</span> [foo] = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> [foo] = <span class="string">'Hello'</span>;</span><br><span class="line"><span class="keyword">var</span> [foo] = <span class="literal">false</span>;</span><br><span class="line"><span class="keyword">var</span> [foo] = <span class="literal">NaN</span>;</span><br><span class="line"><span class="keyword">var</span> [bar, foo] = [<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">foo <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>如果对undefined或null进行解构，会报错。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 报错</span></span><br><span class="line"><span class="keyword">var</span> [foo] = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">var</span> [foo] = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>解构赋值允许指定默认值。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[x, y=<span class="string">'b'</span>] = [<span class="string">'a'</span>] <span class="comment">// x=3, y='b'</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>解构赋值不仅适用于var命令，也适用于let和const命令。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> [v1, v2, ..., vN ] = array;</span><br><span class="line"><span class="keyword">let</span> [v1, v2, ..., vN ] = array;</span><br><span class="line"><span class="keyword">const</span> [v1, v2, ..., vN ] = array;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Object_destructuring">Object destructuring</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &#123; foo, bar &#125; = &#123; foo: <span class="string">"aaa"</span>, bar: <span class="string">"bbb"</span> &#125;;</span><br><span class="line">foo <span class="comment">// "aaa"</span></span><br><span class="line">bar <span class="comment">// "bbb"</span></span><br></pre></td></tr></table></figure>
<p>如果变量名与属性名不一致，必须写成下面这样。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> &#123; foo: baz &#125; = &#123; foo: <span class="string">"aaa"</span>, bar: <span class="string">"bbb"</span> &#125;;</span><br><span class="line">baz <span class="comment">// "aaa"</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;</span><br><span class="line">  p: [</span><br><span class="line">    <span class="string">"Hello"</span>,</span><br><span class="line">    &#123; y: <span class="string">"World"</span> &#125;</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> &#123; p: [x, &#123; y &#125;] &#125; = o;</span><br><span class="line">x <span class="comment">// "Hello"</span></span><br><span class="line">y <span class="comment">// "World"</span></span><br></pre></td></tr></table></figure>
<ul>
<li>对象的解构也可以指定默认值。</li>
<li>如果要将一个已经声明的变量用于解构赋值<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 错误的写法</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> x;</span><br><span class="line">&#123;x&#125; = &#123;x:<span class="number">1</span>&#125;;</span><br><span class="line"><span class="comment">// SyntaxError: syntax error</span></span><br><span class="line"></span><br><span class="line">(&#123;x&#125; = &#123;x:<span class="number">1</span>&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>JavaScript引擎会将{x}理解成一个代码块，从而发生语法错误。</p>
<p><strong>NOTE</strong> 数组的元素是按次序排列的，变量的取值由它的位置决定；而对象的属性没有次序，变量必须与属性同名，才能取到正确的值。</p>
<h3 id="Pros-1">Pros</h3><ul>
<li>交换变量的值</li>
<li>从函数返回多个值</li>
<li><p>遍历Map结构<br>配合变量的解构赋值，获取键名和键值</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> [key, value] of map) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key + <span class="string">" is "</span> + value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>输入模块的指定方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; SourceMapConsumer, SourceNode &#125; = <span class="built_in">require</span>(<span class="string">"source-map"</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="Arrow_Function">Arrow Function</h2><ul>
<li>语法糖：function的简写，或者是使用胖箭头 () =&gt; 的Lamda表达式。</li>
<li>不仅仅是语法糖：自动绑定外部作用域的”this”.</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> items = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> double = (x) =&gt; x * <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> byTwo = items.map(double);</span><br><span class="line"><span class="comment">// =&gt; [2, 4, 6, 8]</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foot = &#123;</span><br><span class="line">    kickNormal: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.yelp = <span class="string">"Ouch!"</span>;</span><br><span class="line">      setImmediate(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.yelp);</span><br><span class="line">      &#125;.bind(<span class="keyword">this</span>));</span><br><span class="line">    &#125;,</span><br><span class="line">    kick: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.yelp = <span class="string">"Ouch!"</span>;</span><br><span class="line">        setImmediate(() =&gt; <span class="built_in">console</span>.log(<span class="keyword">this</span>.yelp));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="default_function_params">default function params</h2><p>在ES6默认值特性出现前，手动处理默认值有几种方式：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">log</span><span class="params">(message, level)</span> </span>&#123;</span><br><span class="line">  level = level || <span class="string">'warning'</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(level, <span class="string">': '</span>, message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">log(<span class="string">'low memory'</span>); <span class="comment">// warning: low memory</span></span><br><span class="line">log(<span class="string">'out of memory'</span>, <span class="string">'error'</span>); <span class="comment">// error: out of memory</span></span><br></pre></td></tr></table></figure>
<p>为了处理参数未传递的情况，我们常看到typeof检测:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> level == <span class="string">'undefined'</span>) &#123;</span><br><span class="line">  level = <span class="string">'warning'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>有时也可以检查arguments.length</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="built_in">arguments</span>.length == <span class="number">1</span>) &#123;</span><br><span class="line">  level = <span class="string">'warning'</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这些方法都可以很好的工作，但都过于手动且缺少抽象。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">function log(message, level = 'warning') &#123;</span><br><span class="line">  console.log(level, ': ', message);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">log('low memory'); // warning: low memory</span><br><span class="line">log('out of memory', 'error'); // error: out of memory</span><br></pre></td></tr></table></figure>
<p>参数默认值使用方便且毫无违和感。</p>
<h2 id="Classes">Classes</h2><p>A formal inheritance syntax comes to JavaScript<br>Really just syntactical sugar over JS prototypical inheritance</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Greeter &#123;</span><br><span class="line">  constructor(msg) &#123;</span><br><span class="line">    <span class="keyword">this</span>.msg = msg;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  static create(msg) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">this</span>(msg);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  greet() &#123;</span><br><span class="line">    <span class="keyword">return</span> `Hello $&#123;<span class="keyword">this</span>.msg&#125;`;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  set message(msg) &#123;</span><br><span class="line">    <span class="keyword">this</span>.msg = msg;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  get message() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.msg;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> _createClass = (<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123; <span class="function"><span class="keyword">function</span> <span class="title">defineProperties</span><span class="params">(target, props)</span> </span>&#123; <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; props.length; i++) &#123; <span class="keyword">var</span> descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || <span class="literal">false</span>; descriptor.configurable = <span class="literal">true</span>; <span class="keyword">if</span> (<span class="string">'value'</span> <span class="keyword">in</span> descriptor) descriptor.writable = <span class="literal">true</span>; <span class="built_in">Object</span>.defineProperty(target, descriptor.key, descriptor); &#125; &#125; <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> <span class="params">(Constructor, protoProps, staticProps)</span> </span>&#123; <span class="keyword">if</span> (protoProps) defineProperties(Constructor.prototype, protoProps); <span class="keyword">if</span> (staticProps) defineProperties(Constructor, staticProps); <span class="keyword">return</span> Constructor; &#125;; &#125;)();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">_classCallCheck</span><span class="params">(instance, Constructor)</span> </span>&#123; <span class="keyword">if</span> (!(instance <span class="keyword">instanceof</span> Constructor)) &#123; <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'Cannot call a class as a function'</span>); &#125; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> Greeter = (<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">Greeter</span><span class="params">(msg)</span> </span>&#123;</span><br><span class="line">    _classCallCheck(<span class="keyword">this</span>, Greeter);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">this</span>.msg = msg;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Greeter.create = <span class="function"><span class="keyword">function</span> <span class="title">create</span><span class="params">(msg)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">this</span>(msg);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  Greeter.prototype.greet = <span class="function"><span class="keyword">function</span> <span class="title">greet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello '</span> + <span class="keyword">this</span>.msg;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  _createClass(Greeter, [&#123;</span><br><span class="line">    key: <span class="string">'message'</span>,</span><br><span class="line">    set: <span class="function"><span class="keyword">function</span> <span class="params">(msg)</span> </span>&#123;</span><br><span class="line">      <span class="keyword">this</span>.msg = msg;</span><br><span class="line">    &#125;,</span><br><span class="line">    get: <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">this</span>.msg;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> Greeter;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
<h3 id="Extends">Extends</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> FancyGreeter extends Greeter &#123;</span><br><span class="line">  constructor(msg, name) &#123;</span><br><span class="line">    super(msg);</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  greet () &#123;</span><br><span class="line">    <span class="keyword">return</span> `$&#123;<span class="keyword">this</span>.name&#125;, Hello $&#123;<span class="keyword">this</span>.msg&#125;`;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fg = <span class="keyword">new</span> FancyGreeter(<span class="string">'World'</span>, <span class="string">'Song'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(fg <span class="keyword">instanceof</span> FancyGreeter);</span><br><span class="line"><span class="built_in">console</span>.log(fg <span class="keyword">instanceof</span> Greeter);</span><br></pre></td></tr></table></figure>
<h2 id="Module">Module</h2><h3 id="export和import">export和import</h3><p>ES6实现了模块功能，试图解决JavaScript代码的依赖和部署上的问题，取代现有的CommonJS和AMD规范，成为浏览器和服务器通用的模块解决方案。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">foo</span><span class="params">()</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> first = <span class="string">'David'</span>;</span><br><span class="line"><span class="keyword">var</span> last = <span class="string">'Belle'</span>;</span><br><span class="line"><span class="keyword">var</span> year = <span class="number">1973</span>;</span><br><span class="line"></span><br><span class="line">export &#123;first, last, year&#125;;</span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import &#123;first, last, year&#125; from <span class="string">'./profile'</span>;</span><br><span class="line">import &#123;first as f, last&#125; from <span class="string">'./profile'</span>;</span><br><span class="line">import * as profile from <span class="string">'./profile'</span>;</span><br></pre></td></tr></table></figure>
<h2 id="NOT_Included">NOT Included</h2><ul>
<li>Map, WeakMap, Set, WeakSet</li>
<li>Promise</li>
<li>Generator</li>
<li>Iterator</li>
<li>Rest Parameter</li>
<li>Spread Operator</li>
</ul>
<h3 id="新的内建方法">新的内建方法</h3><ul>
<li>Object.assign</li>
<li>[arr].find</li>
<li>“str”.repeat</li>
<li>“str”.startsWith</li>
<li>“str”.endsWith</li>
<li>“str”.includes</li>
<li>Number.isNaN</li>
<li>Number.isFinite</li>
<li>Number.isSafeInteger</li>
<li>Math.trunc</li>
<li>Math.sign</li>
</ul>
<h2 id="Using_ES6_Today">Using ES6 Today</h2><h3 id="Server">Server</h3><ul>
<li>io 2.2.0</li>
<li>node 0.12.4</li>
</ul>
<h3 id="Browser">Browser</h3><ul>
<li>Browserify</li>
<li>Babel</li>
</ul>
<h2 id="Resources">Resources</h2><ul>
<li><a href="http://es6-features.org/" target="_blank" rel="external">ECMAScript 6 — New Features</a></li>
</ul>

    </section>
    <footer class="post-footer">
      <section class="author">
    <h4>Owen Yang</h4>
    <p>摘一叶菩提，享一份宁静，敲一键淡然。</p>
</section>
      <section class="share">
    <h4>Share this post</h4>
    <a class="icon-sina-weibo" href="http://v.t.sina.com.cn/share/share.php?url=http://owenyang0.github.io/2015/05/31/Overview-of-ES6/&title=Overview of ES6 | OwenYang&#39;S" target="_blank">
        <span class="hidden">weibo</span>
    </a>
    <a class="icon-twitter" href="http://twitter.com/share?url=http://owenyang0.github.io/2015/05/31/Overview-of-ES6/"
       onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
        <span class="hidden">Twitter</span>
    </a>
    <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://owenyang0.github.io/2015/05/31/Overview-of-ES6/"
       onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
        <span class="hidden">Facebook</span>
    </a>
    <a class="icon-google-plus" href="https://plus.google.com/share?url=http://owenyang0.github.io/2015/05/31/Overview-of-ES6/"
       onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
        <span class="hidden">Google+</span>
    </a>
</section>

    </footer>
  </article>
  <nav class="pagination" role="pagination">
    
    <span class="icon-logo">•</span>
    
    <a class="older-posts" href="/2015/05/08/2-minute-introduction-to-Rx/">
        两分钟了解ReactiveX →
    </a>
    
</nav>

  <div id="comment" class="comments-area">
    <h4 class="title"><a href="#disqus_comments" name="disqus_comments">Comments</a></h4>
    
    <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
    
</div>

</main>


      
<footer class="site-footer">
  
  <a class="subscribe icon-feed" href="atom.xml"><span class="tooltip">Subscribe!</span></a>
  
  <div class="inner">
     <section class="copyright">All content copyright <a href="/">OwenYang'S IDEAS</a> &copy; 2014 &bull; All rights reserved.</section>
     <section class="poweredby">Proudly published with <a class="icon-ghost" href="https://github.com/owenyang0/moody">moody</a></section>
  </div>
</footer>

      <script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-57882600-1']);
    _gaq.push(['_trackPageview']);

    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>


<script type="text/javascript">
    var disqus_shortname = 'owenyang';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



    </div>
  </div>
</div>
</body>
</html>
